import{d as K,a as v,i as q,Z as D,e as L,k as x,j as e,b as t,r as n,q as u,t as p,B as E,X as k,Y as W,o as ee}from"./vendor-C_Hg41BH.js";import{_ as ae}from"./index-D16WdHqk.js";const te={class:"education-container"},le={class:"card-header"},oe={class:"header-actions"},re={class:"pagination-container"},se={class:"dialog-footer"},ue=K({__name:"index",setup(ne){const b=v(""),V=v(1),T=v(10),c=v([{id:1,name:"计算机科学与技术2025级第一学期教学计划",major:"计算机科学与技术",grade:"2025级",semester:"第一学期",totalHours:480,status:"已通过",creator:"张教授",createTime:"2025-06-10 09:00:00"},{id:2,name:"软件工程2025级第一学期教学计划",major:"软件工程",grade:"2025级",semester:"第一学期",totalHours:520,status:"已通过",creator:"李教授",createTime:"2025-06-11 10:30:00"},{id:3,name:"网络工程2025级第一学期教学计划",major:"网络工程",grade:"2025级",semester:"第一学期",totalHours:500,status:"已通过",creator:"王教授",createTime:"2025-06-12 14:20:00"},{id:4,name:"信息安全2025级第一学期教学计划",major:"信息安全",grade:"2025级",semester:"第一学期",totalHours:540,status:"审核中",creator:"刘教授",createTime:"2025-06-13 16:45:00"},{id:5,name:"数据科学与大数据技术2025级第一学期教学计划",major:"数据科学与大数据技术",grade:"2025级",semester:"第一学期",totalHours:560,status:"草稿",creator:"赵教授",createTime:"2025-06-14 11:15:00"},{id:6,name:"人工智能2025级第一学期教学计划",major:"人工智能",grade:"2025级",semester:"第一学期",totalHours:580,status:"已通过",creator:"陈教授",createTime:"2025-06-15 09:30:00"},{id:7,name:"计算机科学与技术2022级第五学期教学计划",major:"计算机科学与技术",grade:"2022级",semester:"第五学期",totalHours:480,status:"已通过",creator:"张教授",createTime:"2025-06-08 15:20:00"},{id:8,name:"软件工程2022级第五学期教学计划",major:"软件工程",grade:"2022级",semester:"第五学期",totalHours:520,status:"已通过",creator:"李教授",createTime:"2025-06-09 10:45:00"},{id:9,name:"网络工程2022级第五学期教学计划",major:"网络工程",grade:"2022级",semester:"第五学期",totalHours:500,status:"已驳回",creator:"王教授",createTime:"2025-06-07 14:10:00"},{id:10,name:"信息安全2022级第五学期教学计划",major:"信息安全",grade:"2022级",semester:"第五学期",totalHours:540,status:"已通过",creator:"刘教授",createTime:"2025-06-06 16:30:00"}]),h=q(()=>b.value?c.value.filter(o=>o.name.includes(b.value)||o.major.includes(b.value)||o.semester.includes(b.value)):c.value),S=q(()=>{const o=(V.value-1)*T.value;return h.value.slice(o,o+T.value)});function I(){V.value=1}function $(o){T.value=o,V.value=1}function B(o){V.value=o}const M=o=>{switch(o){case"已通过":return"success";case"审核中":return"warning";case"已驳回":return"danger";case"草稿":return"info";default:return"info"}},j=v(!1),y=v("add"),r=D({id:0,name:"",major:"",grade:"",semester:"",totalHours:0,status:"草稿",creator:"",createTime:""}),w=v(),P={name:[{required:!0,message:"请输入计划名称",trigger:"blur"}],major:[{required:!0,message:"请选择专业",trigger:"change"}],grade:[{required:!0,message:"请选择年级",trigger:"change"}],semester:[{required:!0,message:"请选择学期",trigger:"change"}],totalHours:[{required:!0,type:"number",message:"请输入总学时",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],creator:[{required:!0,message:"请输入制定人",trigger:"blur"}],createTime:[{required:!0,message:"请输入制定时间",trigger:"blur"}]};function F(){y.value="add";const o=Math.max(...c.value.map(a=>a.id),0);Object.assign(r,{id:o+1,name:"",major:"",grade:"",semester:"",totalHours:0,status:"草稿",creator:"",createTime:""}),j.value=!0,E(()=>{var a;return(a=w.value)==null?void 0:a.clearValidate()})}function N(o){y.value="edit",Object.assign(r,o),j.value=!0,E(()=>{var a;return(a=w.value)==null?void 0:a.clearValidate()})}function O(){w.value.validate(o=>{if(o){if(y.value==="add")c.value.unshift({...r}),k.success("新增成功");else{const a=c.value.findIndex(m=>m.id===r.id);a!==-1&&(c.value[a]={...r},k.success("编辑成功"))}j.value=!1}})}function R(o){W.confirm(`确定要删除教学计划"${o.name}"吗？`,"删除确认",{type:"warning"}).then(()=>{const a=c.value.findIndex(m=>m.id===o.id);a!==-1&&(c.value.splice(a,1),k.success("删除成功"))}).catch(()=>{})}const C=v(!1),i=D({name:"",major:"",grade:"",semester:"",totalHours:0,status:"",creator:"",createTime:""});function A(o){Object.assign(i,o),C.value=!0}return(o,a)=>{const m=n("el-input"),_=n("el-button"),d=n("el-table-column"),Q=n("el-tag"),X=n("el-table"),Y=n("el-pagination"),Z=n("el-card"),g=n("el-form-item"),s=n("el-option"),H=n("el-select"),G=n("el-form"),U=n("el-dialog"),f=n("el-descriptions-item"),J=n("el-descriptions");return ee(),L("div",te,[a[21]||(a[21]=x("h1",null,"教学管理",-1)),e(Z,{class:"education-card"},{header:t(()=>[x("div",le,[x("div",oe,[e(m,{modelValue:b.value,"onUpdate:modelValue":a[0]||(a[0]=l=>b.value=l),placeholder:"搜索教学计划（名称/专业/学期）...",clearable:"","prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},onInput:I},null,8,["modelValue"]),e(_,{type:"primary",onClick:F},{default:t(()=>a[14]||(a[14]=[u("新增教学计划")])),_:1,__:[14]})])])]),default:t(()=>[e(X,{data:S.value,style:{width:"100%"},border:"",stripe:"","highlight-current-row":""},{default:t(()=>[e(d,{prop:"id",label:"ID",width:"80"}),e(d,{prop:"name",label:"计划名称","min-width":"150"}),e(d,{prop:"major",label:"专业",width:"120"}),e(d,{prop:"grade",label:"年级",width:"100"}),e(d,{prop:"semester",label:"学期",width:"100"}),e(d,{prop:"totalHours",label:"总学时",width:"100"}),e(d,{prop:"status",label:"状态",width:"100"},{default:t(({row:l})=>[e(Q,{type:M(l.status)},{default:t(()=>[u(p(l.status),1)]),_:2},1032,["type"])]),_:1}),e(d,{prop:"creator",label:"制定人",width:"120"}),e(d,{prop:"createTime",label:"制定时间",width:"150"}),e(d,{label:"操作",width:"220",fixed:"right"},{default:t(({row:l})=>[e(_,{type:"primary",size:"small",onClick:z=>A(l)},{default:t(()=>a[15]||(a[15]=[u("查看")])),_:2,__:[15]},1032,["onClick"]),e(_,{type:"warning",size:"small",onClick:z=>N(l)},{default:t(()=>a[16]||(a[16]=[u("编辑")])),_:2,__:[16]},1032,["onClick"]),e(_,{type:"danger",size:"small",onClick:z=>R(l)},{default:t(()=>a[17]||(a[17]=[u("删除")])),_:2,__:[17]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),x("div",re,[e(Y,{"current-page":V.value,"onUpdate:currentPage":a[1]||(a[1]=l=>V.value=l),"page-size":T.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:h.value.length,onSizeChange:$,onCurrentChange:B},null,8,["current-page","page-size","total"])])]),_:1}),e(U,{modelValue:j.value,"onUpdate:modelValue":a[11]||(a[11]=l=>j.value=l),title:y.value==="add"?"新增教学计划":"编辑教学计划",width:"500px"},{footer:t(()=>[x("span",se,[e(_,{onClick:a[10]||(a[10]=l=>j.value=!1)},{default:t(()=>a[18]||(a[18]=[u("取消")])),_:1,__:[18]}),e(_,{type:"primary",onClick:O},{default:t(()=>a[19]||(a[19]=[u("确定")])),_:1,__:[19]})])]),default:t(()=>[e(G,{model:r,rules:P,ref_key:"editFormRef",ref:w,"label-width":"100px"},{default:t(()=>[e(g,{label:"计划名称",prop:"name"},{default:t(()=>[e(m,{modelValue:r.name,"onUpdate:modelValue":a[2]||(a[2]=l=>r.name=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"专业",prop:"major"},{default:t(()=>[e(H,{modelValue:r.major,"onUpdate:modelValue":a[3]||(a[3]=l=>r.major=l),placeholder:"请选择"},{default:t(()=>[e(s,{label:"计算机科学与技术",value:"计算机科学与技术"}),e(s,{label:"软件工程",value:"软件工程"}),e(s,{label:"网络工程",value:"网络工程"}),e(s,{label:"信息安全",value:"信息安全"}),e(s,{label:"数据科学与大数据技术",value:"数据科学与大数据技术"}),e(s,{label:"人工智能",value:"人工智能"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"年级",prop:"grade"},{default:t(()=>[e(H,{modelValue:r.grade,"onUpdate:modelValue":a[4]||(a[4]=l=>r.grade=l),placeholder:"请选择"},{default:t(()=>[e(s,{label:"2021级",value:"2021级"}),e(s,{label:"2022级",value:"2022级"}),e(s,{label:"2025级",value:"2025级"}),e(s,{label:"2025级",value:"2025级"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"学期",prop:"semester"},{default:t(()=>[e(H,{modelValue:r.semester,"onUpdate:modelValue":a[5]||(a[5]=l=>r.semester=l),placeholder:"请选择"},{default:t(()=>[e(s,{label:"第一学期",value:"第一学期"}),e(s,{label:"第二学期",value:"第二学期"}),e(s,{label:"第三学期",value:"第三学期"}),e(s,{label:"第四学期",value:"第四学期"}),e(s,{label:"第五学期",value:"第五学期"}),e(s,{label:"第六学期",value:"第六学期"}),e(s,{label:"第七学期",value:"第七学期"}),e(s,{label:"第八学期",value:"第八学期"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"总学时",prop:"totalHours"},{default:t(()=>[e(m,{modelValue:r.totalHours,"onUpdate:modelValue":a[6]||(a[6]=l=>r.totalHours=l),modelModifiers:{number:!0},type:"number",min:"0"},null,8,["modelValue"])]),_:1}),e(g,{label:"状态",prop:"status"},{default:t(()=>[e(H,{modelValue:r.status,"onUpdate:modelValue":a[7]||(a[7]=l=>r.status=l),placeholder:"请选择"},{default:t(()=>[e(s,{label:"草稿",value:"草稿"}),e(s,{label:"审核中",value:"审核中"}),e(s,{label:"已通过",value:"已通过"}),e(s,{label:"已驳回",value:"已驳回"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"制定人",prop:"creator"},{default:t(()=>[e(m,{modelValue:r.creator,"onUpdate:modelValue":a[8]||(a[8]=l=>r.creator=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"制定时间",prop:"createTime"},{default:t(()=>[e(m,{modelValue:r.createTime,"onUpdate:modelValue":a[9]||(a[9]=l=>r.createTime=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(U,{modelValue:C.value,"onUpdate:modelValue":a[13]||(a[13]=l=>C.value=l),title:"教学计划详情",width:"400px","show-close":!0},{footer:t(()=>[e(_,{onClick:a[12]||(a[12]=l=>C.value=!1)},{default:t(()=>a[20]||(a[20]=[u("关闭")])),_:1,__:[20]})]),default:t(()=>[e(J,{column:1,border:""},{default:t(()=>[e(f,{label:"计划名称"},{default:t(()=>[u(p(i.name),1)]),_:1}),e(f,{label:"专业"},{default:t(()=>[u(p(i.major),1)]),_:1}),e(f,{label:"年级"},{default:t(()=>[u(p(i.grade),1)]),_:1}),e(f,{label:"学期"},{default:t(()=>[u(p(i.semester),1)]),_:1}),e(f,{label:"总学时"},{default:t(()=>[u(p(i.totalHours),1)]),_:1}),e(f,{label:"状态"},{default:t(()=>[u(p(i.status),1)]),_:1}),e(f,{label:"制定人"},{default:t(()=>[u(p(i.creator),1)]),_:1}),e(f,{label:"制定时间"},{default:t(()=>[u(p(i.createTime),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),me=ae(ue,[["__scopeId","data-v-a0770486"]]);export{me as default};
