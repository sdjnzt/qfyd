import{d as H,a as f,i as D,Z as S,e as J,k as h,j as a,b as l,r as i,q as d,t as g,B as $,X as C,Y as K,o as L}from"./vendor-BCCqDdhU.js";import{_ as W}from"./index-DfcH9hJA.js";const ee={class:"student-container"},ae={class:"card-header"},le={class:"header-actions"},ne={class:"pagination-container"},te={class:"dialog-footer"},oe=H({__name:"index",setup(de){const _=f(""),b=f(1),j=f(10),c=f([{id:"20250001",name:"王伟",gender:"男",age:20,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138000",email:"wangwei@example.com"},{id:"20250002",name:"李娜",gender:"女",age:19,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138001",email:"lina@example.com"},{id:"20250003",name:"张敏",gender:"女",age:21,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138002",email:"zhangmin@example.com"},{id:"20250004",name:"刘洋",gender:"男",age:20,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138003",email:"liuyang@example.com"},{id:"20250005",name:"陈静",gender:"女",age:22,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138004",email:"chenjing@example.com"},{id:"20250006",name:"杨磊",gender:"男",age:19,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138005",email:"yanglei@example.com"},{id:"20250007",name:"赵丽",gender:"女",age:20,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138006",email:"zhaoli@example.com"},{id:"20250008",name:"周强",gender:"男",age:21,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138007",email:"zhouqiang@example.com"},{id:"20250009",name:"吴婷",gender:"女",age:20,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138008",email:"wuting@example.com"},{id:"20250010",name:"徐杰",gender:"男",age:19,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138009",email:"xujie@example.com"},{id:"20250011",name:"孙悦",gender:"女",age:21,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138010",email:"sunyue@example.com"},{id:"20250012",name:"马超",gender:"男",age:20,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138011",email:"machao@example.com"},{id:"20250013",name:"朱琳",gender:"女",age:22,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138012",email:"zhulin@example.com"},{id:"20250014",name:"胡斌",gender:"男",age:19,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138013",email:"hubin@example.com"},{id:"20250015",name:"郭娟",gender:"女",age:20,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138014",email:"guoj@example.com"},{id:"20250016",name:"林峰",gender:"男",age:21,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138015",email:"linfeng@example.com"},{id:"20250017",name:"何静",gender:"女",age:19,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138016",email:"hejing@example.com"},{id:"20250018",name:"高翔",gender:"男",age:20,class:"计科21-1",department:"信息工程系",major:"计算机科学与技术",phone:"13800138017",email:"gaoxiang@example.com"},{id:"20250019",name:"罗敏",gender:"女",age:22,class:"计科21-3",department:"信息工程系",major:"网络工程",phone:"13800138018",email:"luomin@example.com"},{id:"20250020",name:"梁宇",gender:"男",age:21,class:"计科21-2",department:"信息工程系",major:"软件工程",phone:"13800138019",email:"liangyu@example.com"}]),k=D(()=>_.value?c.value.filter(o=>o.id.includes(_.value)||o.name.includes(_.value)||o.class.includes(_.value)||o.major.includes(_.value)):c.value),B=D(()=>{const o=(b.value-1)*j.value;return k.value.slice(o,o+j.value)});function E(){b.value=1}function I(o){j.value=o,b.value=1}function M(o){b.value=o}const x=f(!1),V=f("add"),t=S({id:"",name:"",gender:"",age:18,class:"",department:"",major:"",phone:"",email:""}),y=f(),F={id:[{required:!0,message:"请输入学号",trigger:"blur"}],name:[{required:!0,message:"请输入姓名",trigger:"blur"}],gender:[{required:!0,message:"请选择性别",trigger:"change"}],age:[{required:!0,type:"number",message:"请输入年龄",trigger:"blur"}],class:[{required:!0,message:"请输入班级",trigger:"blur"}],department:[{required:!0,message:"请输入系部",trigger:"blur"}],major:[{required:!0,message:"请输入专业",trigger:"blur"}],phone:[{required:!0,message:"请输入联系电话",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱",trigger:"blur"}]};function N(){V.value="add",Object.assign(t,{id:"",name:"",gender:"",age:18,class:"",department:"",major:"",phone:"",email:""}),x.value=!0,$(()=>{var o;return(o=y.value)==null?void 0:o.clearValidate()})}function O(o){V.value="edit",Object.assign(t,o),x.value=!0,$(()=>{var e;return(e=y.value)==null?void 0:e.clearValidate()})}function R(){y.value.validate(o=>{if(o){if(V.value==="add"){if(c.value.some(e=>e.id===t.id)){C.error("学号已存在");return}c.value.unshift({...t}),C.success("新增成功")}else{const e=c.value.findIndex(r=>r.id===t.id);e!==-1&&(c.value[e]={...t},C.success("编辑成功"))}x.value=!1}})}function P(o){K.confirm(`确定要删除学生"${o.name}(${o.id})"吗？`,"删除确认",{type:"warning"}).then(()=>{const e=c.value.findIndex(r=>r.id===o.id);e!==-1&&(c.value.splice(e,1),C.success("删除成功"))}).catch(()=>{})}const w=f(!1),m=S({id:"",name:"",gender:"",age:0,class:"",department:"",major:"",phone:"",email:""});function T(o){Object.assign(m,o),w.value=!0}return(o,e)=>{const r=i("el-input"),v=i("el-button"),s=i("el-table-column"),A=i("el-table"),Q=i("el-pagination"),X=i("el-card"),u=i("el-form-item"),z=i("el-option"),Y=i("el-select"),Z=i("el-form"),U=i("el-dialog"),p=i("el-descriptions-item"),G=i("el-descriptions");return L(),J("div",ee,[e[22]||(e[22]=h("h1",null,"学生管理",-1)),a(X,{class:"student-card"},{header:l(()=>[h("div",ae,[h("div",le,[a(r,{modelValue:_.value,"onUpdate:modelValue":e[0]||(e[0]=n=>_.value=n),placeholder:"搜索学生（姓名/学号/班级/专业）...",clearable:"","prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},onInput:E},null,8,["modelValue"]),a(v,{type:"primary",onClick:N},{default:l(()=>e[15]||(e[15]=[d("新增学生")])),_:1,__:[15]})])])]),default:l(()=>[a(A,{data:B.value,style:{width:"100%"},border:"",stripe:"","highlight-current-row":""},{default:l(()=>[a(s,{prop:"id",label:"学号",width:"120"}),a(s,{prop:"name",label:"姓名",width:"120"}),a(s,{prop:"gender",label:"性别",width:"80"}),a(s,{prop:"age",label:"年龄",width:"80"}),a(s,{prop:"class",label:"班级",width:"150"}),a(s,{prop:"department",label:"系部",width:"180"}),a(s,{prop:"major",label:"专业",width:"180"}),a(s,{prop:"phone",label:"联系电话",width:"150"}),a(s,{prop:"email",label:"邮箱",width:"200"}),a(s,{label:"操作",fixed:"right",width:"220"},{default:l(({row:n})=>[a(v,{type:"primary",size:"small",onClick:q=>T(n)},{default:l(()=>e[16]||(e[16]=[d("查看")])),_:2,__:[16]},1032,["onClick"]),a(v,{type:"warning",size:"small",onClick:q=>O(n)},{default:l(()=>e[17]||(e[17]=[d("编辑")])),_:2,__:[17]},1032,["onClick"]),a(v,{type:"danger",size:"small",onClick:q=>P(n)},{default:l(()=>e[18]||(e[18]=[d("删除")])),_:2,__:[18]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),h("div",ne,[a(Q,{"current-page":b.value,"onUpdate:currentPage":e[1]||(e[1]=n=>b.value=n),"page-size":j.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:k.value.length,onSizeChange:I,onCurrentChange:M},null,8,["current-page","page-size","total"])])]),_:1}),a(U,{modelValue:x.value,"onUpdate:modelValue":e[12]||(e[12]=n=>x.value=n),title:V.value==="add"?"新增学生":"编辑学生",width:"500px"},{footer:l(()=>[h("span",te,[a(v,{onClick:e[11]||(e[11]=n=>x.value=!1)},{default:l(()=>e[19]||(e[19]=[d("取消")])),_:1,__:[19]}),a(v,{type:"primary",onClick:R},{default:l(()=>e[20]||(e[20]=[d("确定")])),_:1,__:[20]})])]),default:l(()=>[a(Z,{model:t,rules:F,ref_key:"editFormRef",ref:y,"label-width":"100px"},{default:l(()=>[a(u,{label:"学号",prop:"id"},{default:l(()=>[a(r,{modelValue:t.id,"onUpdate:modelValue":e[2]||(e[2]=n=>t.id=n),disabled:V.value==="edit"},null,8,["modelValue","disabled"])]),_:1}),a(u,{label:"姓名",prop:"name"},{default:l(()=>[a(r,{modelValue:t.name,"onUpdate:modelValue":e[3]||(e[3]=n=>t.name=n)},null,8,["modelValue"])]),_:1}),a(u,{label:"性别",prop:"gender"},{default:l(()=>[a(Y,{modelValue:t.gender,"onUpdate:modelValue":e[4]||(e[4]=n=>t.gender=n),placeholder:"请选择"},{default:l(()=>[a(z,{label:"男",value:"男"}),a(z,{label:"女",value:"女"})]),_:1},8,["modelValue"])]),_:1}),a(u,{label:"年龄",prop:"age"},{default:l(()=>[a(r,{modelValue:t.age,"onUpdate:modelValue":e[5]||(e[5]=n=>t.age=n),modelModifiers:{number:!0},type:"number",min:"15",max:"30"},null,8,["modelValue"])]),_:1}),a(u,{label:"班级",prop:"class"},{default:l(()=>[a(r,{modelValue:t.class,"onUpdate:modelValue":e[6]||(e[6]=n=>t.class=n)},null,8,["modelValue"])]),_:1}),a(u,{label:"系部",prop:"department"},{default:l(()=>[a(r,{modelValue:t.department,"onUpdate:modelValue":e[7]||(e[7]=n=>t.department=n)},null,8,["modelValue"])]),_:1}),a(u,{label:"专业",prop:"major"},{default:l(()=>[a(r,{modelValue:t.major,"onUpdate:modelValue":e[8]||(e[8]=n=>t.major=n)},null,8,["modelValue"])]),_:1}),a(u,{label:"联系电话",prop:"phone"},{default:l(()=>[a(r,{modelValue:t.phone,"onUpdate:modelValue":e[9]||(e[9]=n=>t.phone=n)},null,8,["modelValue"])]),_:1}),a(u,{label:"邮箱",prop:"email"},{default:l(()=>[a(r,{modelValue:t.email,"onUpdate:modelValue":e[10]||(e[10]=n=>t.email=n)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),a(U,{modelValue:w.value,"onUpdate:modelValue":e[14]||(e[14]=n=>w.value=n),title:"学生详情",width:"400px","show-close":!0},{footer:l(()=>[a(v,{onClick:e[13]||(e[13]=n=>w.value=!1)},{default:l(()=>e[21]||(e[21]=[d("关闭")])),_:1,__:[21]})]),default:l(()=>[a(G,{column:1,border:""},{default:l(()=>[a(p,{label:"学号"},{default:l(()=>[d(g(m.id),1)]),_:1}),a(p,{label:"姓名"},{default:l(()=>[d(g(m.name),1)]),_:1}),a(p,{label:"性别"},{default:l(()=>[d(g(m.gender),1)]),_:1}),a(p,{label:"年龄"},{default:l(()=>[d(g(m.age),1)]),_:1}),a(p,{label:"班级"},{default:l(()=>[d(g(m.class),1)]),_:1}),a(p,{label:"系部"},{default:l(()=>[d(g(m.department),1)]),_:1}),a(p,{label:"专业"},{default:l(()=>[d(g(m.major),1)]),_:1}),a(p,{label:"联系电话"},{default:l(()=>[d(g(m.phone),1)]),_:1}),a(p,{label:"邮箱"},{default:l(()=>[d(g(m.email),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),me=W(oe,[["__scopeId","data-v-b984009c"]]);export{me as default};
