import{d as K,a as c,i as I,Z as B,e as L,k as V,j as t,b as l,r as u,q as i,t as b,B as q,X as P,Y as W,o as ee}from"./vendor-BtSynzSy.js";import{_ as te}from"./index-CqRjJalX.js";const le={class:"network-container"},ae={class:"card-header"},ne={class:"header-actions"},oe={class:"pagination-container"},ie={class:"dialog-footer"},ue=K({__name:"index",setup(de){const g=c(""),w=c(1),h=c(10),r=c([{id:1,name:"核心路由器A",type:"路由器",ip:"192.168.1.1",bandwidth:"10Gbps",location:"主机房",status:"正常",uptime:"30天"},{id:2,name:"核心路由器B",type:"路由器",ip:"192.168.1.2",bandwidth:"10Gbps",location:"主机房",status:"正常",uptime:"28天"},{id:3,name:"接入交换机A",type:"交换机",ip:"192.168.2.1",bandwidth:"1Gbps",location:"教学楼A",status:"正常",uptime:"25天"},{id:4,name:"接入交换机B",type:"交换机",ip:"192.168.2.2",bandwidth:"1Gbps",location:"教学楼B",status:"正常",uptime:"22天"},{id:5,name:"防火墙A",type:"防火墙",ip:"192.168.0.1",bandwidth:"5Gbps",location:"主机房",status:"正常",uptime:"35天"},{id:6,name:"防火墙B",type:"防火墙",ip:"192.168.0.2",bandwidth:"5Gbps",location:"主机房",status:"警告",uptime:"15天"},{id:7,name:"负载均衡器",type:"负载均衡器",ip:"192.168.3.1",bandwidth:"2Gbps",location:"主机房",status:"正常",uptime:"20天"},{id:8,name:"无线AP-1F",type:"无线AP",ip:"192.168.4.1",bandwidth:"500Mbps",location:"教学楼1楼",status:"正常",uptime:"18天"},{id:9,name:"无线AP-2F",type:"无线AP",ip:"192.168.4.2",bandwidth:"500Mbps",location:"教学楼2楼",status:"正常",uptime:"16天"},{id:10,name:"无线AP-3F",type:"无线AP",ip:"192.168.4.3",bandwidth:"500Mbps",location:"教学楼3楼",status:"离线",uptime:"0天"}]),A=I(()=>g.value?r.value.filter(n=>n.name.includes(g.value)||n.type.includes(g.value)||n.location.includes(g.value)):r.value),G=I(()=>{const n=(w.value-1)*h.value;return A.value.slice(n,n+h.value)});function M(){w.value=1}function S(n){h.value=n,w.value=1}function F(n){w.value=n}const $=n=>{switch(n){case"正常":return"success";case"离线":return"info";case"错误":return"danger";case"警告":return"warning";default:return"info"}},y=c(!1),x=c("add"),o=B({id:0,name:"",type:"",ip:"",bandwidth:"",location:"",status:"正常",uptime:""}),k=c(),j={name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"}],bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],location:[{required:!0,message:"请输入位置",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],uptime:[{required:!0,message:"请输入运行时间",trigger:"blur"}]};function E(){x.value="add";const n=Math.max(...r.value.map(e=>e.id),0);Object.assign(o,{id:n+1,name:"",type:"",ip:"",bandwidth:"",location:"",status:"正常",uptime:""}),y.value=!0,q(()=>{var e;return(e=k.value)==null?void 0:e.clearValidate()})}function N(n){x.value="edit",Object.assign(o,n),y.value=!0,q(()=>{var e;return(e=k.value)==null?void 0:e.clearValidate()})}function O(){k.value.validate(n=>{if(n){if(x.value==="add")r.value.unshift({...o}),P.success("新增成功");else{const e=r.value.findIndex(d=>d.id===o.id);e!==-1&&(r.value[e]={...o},P.success("编辑成功"))}y.value=!1}})}function R(n){W.confirm(`确定要删除网络设备"${n.name}"吗？`,"删除确认",{type:"warning"}).then(()=>{const e=r.value.findIndex(d=>d.id===n.id);e!==-1&&(r.value.splice(e,1),P.success("删除成功"))}).catch(()=>{})}const C=c(!1),m=B({name:"",type:"",ip:"",bandwidth:"",location:"",status:"",uptime:""});function T(n){Object.assign(m,n),C.value=!0}return(n,e)=>{const d=u("el-input"),f=u("el-button"),s=u("el-table-column"),Q=u("el-tag"),X=u("el-table"),Y=u("el-pagination"),Z=u("el-card"),_=u("el-form-item"),p=u("el-option"),D=u("el-select"),H=u("el-form"),U=u("el-dialog"),v=u("el-descriptions-item"),J=u("el-descriptions");return ee(),L("div",le,[e[20]||(e[20]=V("h1",null,"网络管理",-1)),t(Z,{class:"network-card"},{header:l(()=>[V("div",ae,[V("div",ne,[t(d,{modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=a=>g.value=a),placeholder:"搜索网络设备（名称/类型/位置）...",clearable:"","prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},onInput:M},null,8,["modelValue"]),t(f,{type:"primary",onClick:E},{default:l(()=>e[13]||(e[13]=[i("新增网络设备")])),_:1,__:[13]})])])]),default:l(()=>[t(X,{data:G.value,style:{width:"100%"},border:"",stripe:"","highlight-current-row":""},{default:l(()=>[t(s,{prop:"id",label:"ID",width:"80"}),t(s,{prop:"name",label:"设备名称","min-width":"150"}),t(s,{prop:"type",label:"类型",width:"120"}),t(s,{prop:"ip",label:"IP地址",width:"150"}),t(s,{prop:"bandwidth",label:"带宽",width:"120"}),t(s,{prop:"location",label:"位置",width:"150"}),t(s,{prop:"status",label:"状态",width:"100"},{default:l(({row:a})=>[t(Q,{type:$(a.status)},{default:l(()=>[i(b(a.status),1)]),_:2},1032,["type"])]),_:1}),t(s,{prop:"uptime",label:"运行时间",width:"120"}),t(s,{label:"操作",width:"220",fixed:"right"},{default:l(({row:a})=>[t(f,{type:"primary",size:"small",onClick:z=>T(a)},{default:l(()=>e[14]||(e[14]=[i("查看")])),_:2,__:[14]},1032,["onClick"]),t(f,{type:"warning",size:"small",onClick:z=>N(a)},{default:l(()=>e[15]||(e[15]=[i("编辑")])),_:2,__:[15]},1032,["onClick"]),t(f,{type:"danger",size:"small",onClick:z=>R(a)},{default:l(()=>e[16]||(e[16]=[i("删除")])),_:2,__:[16]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),V("div",oe,[t(Y,{"current-page":w.value,"onUpdate:currentPage":e[1]||(e[1]=a=>w.value=a),"page-size":h.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:A.value.length,onSizeChange:S,onCurrentChange:F},null,8,["current-page","page-size","total"])])]),_:1}),t(U,{modelValue:y.value,"onUpdate:modelValue":e[10]||(e[10]=a=>y.value=a),title:x.value==="add"?"新增网络设备":"编辑网络设备",width:"500px"},{footer:l(()=>[V("span",ie,[t(f,{onClick:e[9]||(e[9]=a=>y.value=!1)},{default:l(()=>e[17]||(e[17]=[i("取消")])),_:1,__:[17]}),t(f,{type:"primary",onClick:O},{default:l(()=>e[18]||(e[18]=[i("确定")])),_:1,__:[18]})])]),default:l(()=>[t(H,{model:o,rules:j,ref_key:"editFormRef",ref:k,"label-width":"100px"},{default:l(()=>[t(_,{label:"设备名称",prop:"name"},{default:l(()=>[t(d,{modelValue:o.name,"onUpdate:modelValue":e[2]||(e[2]=a=>o.name=a)},null,8,["modelValue"])]),_:1}),t(_,{label:"类型",prop:"type"},{default:l(()=>[t(D,{modelValue:o.type,"onUpdate:modelValue":e[3]||(e[3]=a=>o.type=a),placeholder:"请选择"},{default:l(()=>[t(p,{label:"路由器",value:"路由器"}),t(p,{label:"交换机",value:"交换机"}),t(p,{label:"防火墙",value:"防火墙"}),t(p,{label:"负载均衡器",value:"负载均衡器"}),t(p,{label:"无线AP",value:"无线AP"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"IP地址",prop:"ip"},{default:l(()=>[t(d,{modelValue:o.ip,"onUpdate:modelValue":e[4]||(e[4]=a=>o.ip=a)},null,8,["modelValue"])]),_:1}),t(_,{label:"带宽",prop:"bandwidth"},{default:l(()=>[t(d,{modelValue:o.bandwidth,"onUpdate:modelValue":e[5]||(e[5]=a=>o.bandwidth=a)},null,8,["modelValue"])]),_:1}),t(_,{label:"位置",prop:"location"},{default:l(()=>[t(d,{modelValue:o.location,"onUpdate:modelValue":e[6]||(e[6]=a=>o.location=a)},null,8,["modelValue"])]),_:1}),t(_,{label:"状态",prop:"status"},{default:l(()=>[t(D,{modelValue:o.status,"onUpdate:modelValue":e[7]||(e[7]=a=>o.status=a),placeholder:"请选择"},{default:l(()=>[t(p,{label:"正常",value:"正常"}),t(p,{label:"离线",value:"离线"}),t(p,{label:"错误",value:"错误"}),t(p,{label:"警告",value:"警告"})]),_:1},8,["modelValue"])]),_:1}),t(_,{label:"运行时间",prop:"uptime"},{default:l(()=>[t(d,{modelValue:o.uptime,"onUpdate:modelValue":e[8]||(e[8]=a=>o.uptime=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t(U,{modelValue:C.value,"onUpdate:modelValue":e[12]||(e[12]=a=>C.value=a),title:"网络设备详情",width:"400px","show-close":!0},{footer:l(()=>[t(f,{onClick:e[11]||(e[11]=a=>C.value=!1)},{default:l(()=>e[19]||(e[19]=[i("关闭")])),_:1,__:[19]})]),default:l(()=>[t(J,{column:1,border:""},{default:l(()=>[t(v,{label:"设备名称"},{default:l(()=>[i(b(m.name),1)]),_:1}),t(v,{label:"类型"},{default:l(()=>[i(b(m.type),1)]),_:1}),t(v,{label:"IP地址"},{default:l(()=>[i(b(m.ip),1)]),_:1}),t(v,{label:"带宽"},{default:l(()=>[i(b(m.bandwidth),1)]),_:1}),t(v,{label:"位置"},{default:l(()=>[i(b(m.location),1)]),_:1}),t(v,{label:"状态"},{default:l(()=>[i(b(m.status),1)]),_:1}),t(v,{label:"运行时间"},{default:l(()=>[i(b(m.uptime),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),re=te(ue,[["__scopeId","data-v-5ed4421f"]]);export{re as default};
