import{d as M,a as u,i as P,e as r,k as a,j as l,b as o,r as c,F as m,f as _,q as y,o as n,t as i,J as Q,c as f}from"./vendor-BtSynzSy.js";import{_ as X}from"./index-CqRjJalX.js";const Y={class:"schedule-container"},Z={class:"card-header"},ee={class:"filter-container"},le={class:"header-actions"},te={class:"schedule-weekly"},ae={class:"time-header"},se={class:"schedule-body"},oe={class:"time-cell"},ne={class:"course-name"},de={class:"course-info"},re={class:"classroom-filters"},ce={class:"classroom-usage"},ie={class:"room-header"},ue={class:"room-content"},pe={class:"room-info"},me=M({__name:"index",setup(_e){const W=u("weekly"),C=u("2025春季学期"),V=u("全部"),q=u("教学楼1号"),D=u(["2025春季学期","2025秋季学期","2025春季学期"]),H=u(["全部","计算机科学系","数学系","外语系","物理系"]),N=u(["教学楼1号","教学楼2号","实验楼","综合楼"]),b=["周一","周二","周三","周四","周五","周六","周日"],x=["第1-2节 8:00-9:40","第3-4节 10:00-11:40","第5-6节 14:00-15:40","第7-8节 16:00-17:40","第9-10节 19:00-20:40"],S=u([{id:1,name:"计算机导论",teacher:"王教授",classroom:"教1-101",class:"计科1班",day:0,time:0,type:"required",startWeek:1,endWeek:16},{id:2,name:"C语言程序设计",teacher:"李教授",classroom:"教1-202",class:"计科1班",day:1,time:1,type:"required",startWeek:1,endWeek:16},{id:3,name:"高等数学",teacher:"赵教授",classroom:"教2-101",class:"计科1班",day:2,time:2,type:"required",startWeek:1,endWeek:16},{id:4,name:"大学英语",teacher:"刘教授",classroom:"教1-301",class:"计科1班",day:3,time:3,type:"public",startWeek:1,endWeek:16},{id:5,name:"数据结构",teacher:"张教授",classroom:"教1-204",class:"计科2班",day:0,time:2,type:"required",startWeek:1,endWeek:16}]),U=P(()=>S.value.map(s=>({id:s.id,courseName:s.name,teacher:s.teacher,dayOfWeek:b[s.day],timeSlot:x[s.time],classroom:s.classroom,class:s.class,startWeek:s.startWeek,endWeek:s.endWeek}))),T=u([{name:"教1-101",capacity:60,equipment:"多媒体,投影仪",usage:85,totalHours:34},{name:"教1-102",capacity:80,equipment:"多媒体,投影仪,电脑",usage:65,totalHours:26},{name:"教1-201",capacity:60,equipment:"多媒体,投影仪",usage:50,totalHours:20},{name:"教1-202",capacity:80,equipment:"多媒体,投影仪,电脑",usage:75,totalHours:30}]),F=(s,t)=>S.value.filter(v=>v.time===s&&v.day===t),$=s=>({"required-course":s.type==="required","optional-course":s.type==="optional","public-course":s.type==="public"}),L=()=>{console.log("生成课表")},O=()=>{console.log("导出课表")},j=s=>{console.log("调课",s)},A=s=>{console.log("取消排课",s)},E=s=>{console.log("查看教室详情",s)};return(s,t)=>{const v=c("el-option"),g=c("el-select"),k=c("el-button"),w=c("el-tab-pane"),d=c("el-table-column"),J=c("el-table"),R=c("el-tag"),G=c("el-progress"),z=c("el-card"),I=c("el-tabs");return n(),r("div",Y,[t[11]||(t[11]=a("h1",null,"排课管理",-1)),l(z,{class:"schedule-card"},{header:o(()=>[a("div",Z,[a("div",ee,[l(g,{modelValue:C.value,"onUpdate:modelValue":t[0]||(t[0]=e=>C.value=e),placeholder:"选择学期",style:{width:"150px"}},{default:o(()=>[(n(!0),r(m,null,_(D.value,e=>(n(),f(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(g,{modelValue:V.value,"onUpdate:modelValue":t[1]||(t[1]=e=>V.value=e),placeholder:"选择院系",style:{width:"180px"}},{default:o(()=>[(n(!0),r(m,null,_(H.value,e=>(n(),f(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"])]),a("div",le,[l(k,{type:"primary",onClick:L},{default:o(()=>t[4]||(t[4]=[y("生成课表")])),_:1,__:[4]}),l(k,{type:"success",onClick:O},{default:o(()=>t[5]||(t[5]=[y("导出课表")])),_:1,__:[5]})])])]),default:o(()=>[l(I,{modelValue:W.value,"onUpdate:modelValue":t[3]||(t[3]=e=>W.value=e)},{default:o(()=>[l(w,{label:"周课表视图",name:"weekly"},{default:o(()=>[a("div",te,[a("div",ae,[t[6]||(t[6]=a("div",{class:"time-cell"},null,-1)),(n(),r(m,null,_(b,(e,p)=>a("div",{class:"day-cell",key:p},i(e),1)),64))]),a("div",se,[(n(),r(m,null,_(x,(e,p)=>a("div",{class:"schedule-row",key:p},[a("div",oe,i(e),1),(n(),r(m,null,_(b,(K,B)=>a("div",{class:"schedule-cell",key:B},[(n(!0),r(m,null,_(F(p,B),h=>(n(),r("div",{key:h.id,class:Q(["course-item",$(h)])},[a("div",ne,i(h.name),1),a("div",de,i(h.teacher)+" | "+i(h.classroom),1)],2))),128))])),64))])),64))])])]),_:1}),l(w,{label:"课程列表",name:"list"},{default:o(()=>[l(J,{data:U.value,style:{width:"100%"},border:"",stripe:""},{default:o(()=>[l(d,{prop:"id",label:"ID",width:"80"}),l(d,{prop:"courseName",label:"课程名称","min-width":"150"}),l(d,{prop:"teacher",label:"授课教师",width:"120"}),l(d,{prop:"dayOfWeek",label:"星期",width:"100"}),l(d,{prop:"timeSlot",label:"时间段",width:"150"}),l(d,{prop:"classroom",label:"教室",width:"120"}),l(d,{prop:"class",label:"班级",width:"120"}),l(d,{prop:"startWeek",label:"起始周",width:"100"}),l(d,{prop:"endWeek",label:"结束周",width:"100"}),l(d,{label:"操作",width:"150",fixed:"right"},{default:o(({row:e})=>[l(k,{type:"warning",size:"small",onClick:p=>j(e)},{default:o(()=>t[7]||(t[7]=[y("调课")])),_:2,__:[7]},1032,["onClick"]),l(k,{type:"danger",size:"small",onClick:p=>A(e)},{default:o(()=>t[8]||(t[8]=[y("取消")])),_:2,__:[8]},1032,["onClick"])]),_:1})]),_:1},8,["data"])]),_:1}),l(w,{label:"教室占用",name:"classroom"},{default:o(()=>[a("div",re,[l(g,{modelValue:q.value,"onUpdate:modelValue":t[2]||(t[2]=e=>q.value=e),placeholder:"选择教学楼",style:{width:"150px"}},{default:o(()=>[(n(!0),r(m,null,_(N.value,e=>(n(),f(v,{key:e,label:e,value:e},null,8,["label","value"]))),128))]),_:1},8,["modelValue"]),l(k,{type:"primary",size:"default"},{default:o(()=>t[9]||(t[9]=[y("查询")])),_:1,__:[9]})]),a("div",ce,[(n(!0),r(m,null,_(T.value,(e,p)=>(n(),f(z,{key:p,class:"classroom-card"},{header:o(()=>[a("div",ie,[a("span",null,i(e.name),1),l(R,{type:e.usage>80?"danger":e.usage>60?"warning":"success"},{default:o(()=>[y(" 利用率: "+i(e.usage)+"% ",1)]),_:2},1032,["type"])])]),default:o(()=>[a("div",ue,[l(G,{percentage:e.usage,status:e.usage>80?"exception":e.usage>60?"warning":"success"},null,8,["percentage","status"]),a("div",pe,[a("div",null,"容量: "+i(e.capacity)+"人",1),a("div",null,"设备: "+i(e.equipment),1),a("div",null,"总课时: "+i(e.totalHours)+"课时/周",1)]),l(k,{type:"primary",size:"small",onClick:K=>E(e)},{default:o(()=>t[10]||(t[10]=[y("查看详情")])),_:2,__:[10]},1032,["onClick"])])]),_:2},1024))),128))])]),_:1})]),_:1},8,["modelValue"])]),_:1})])}}}),ke=X(me,[["__scopeId","data-v-aca8fff1"]]);export{ke as default};
