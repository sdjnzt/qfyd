import{d as te,a as p,i as A,Z as I,e as ae,k as n,j as e,b as a,r as s,m as U,Q as le,ab as ne,a8 as oe,ac as ie,q as d,t as f,B as j,X as z,Y as se,o as de}from"./vendor-BCCqDdhU.js";import{_ as ue}from"./index-DfcH9hJA.js";const re={class:"office-container"},ce={class:"overview-content"},ve={class:"overview-icon todo-icon"},me={class:"overview-content"},pe={class:"overview-icon approve-icon"},fe={class:"overview-content"},_e={class:"overview-icon notice-icon"},ge={class:"overview-content"},be={class:"overview-icon meeting-icon"},we={class:"card-header"},Me={class:"header-actions"},xe={class:"pagination-container"},ye={class:"dialog-footer"},Ve=te({__name:"index",setup(Ce){const w=p(""),M=p(1),C=p(10),c=p([{id:1,name:"激光打印机A",type:"打印机",model:"HP LaserJet Pro M404n",location:"行政楼1楼",status:"正常",lastMaintenance:"2025-06-10",nextMaintenance:"2025-04-10"},{id:2,name:"激光打印机B",type:"打印机",model:"HP LaserJet Pro M404n",location:"行政楼2楼",status:"正常",lastMaintenance:"2025-06-12",nextMaintenance:"2025-04-12"},{id:3,name:"彩色打印机",type:"打印机",model:"Canon PIXMA PRO-100",location:"教务处",status:"正常",lastMaintenance:"2025-06-08",nextMaintenance:"2025-04-08"},{id:4,name:"多功能复印机A",type:"复印机",model:"Ricoh MP C3004",location:"图书馆1楼",status:"正常",lastMaintenance:"2025-06-15",nextMaintenance:"2025-04-15"},{id:5,name:"多功能复印机B",type:"复印机",model:"Ricoh MP C3004",location:"图书馆2楼",status:"维修中",lastMaintenance:"2025-06-05",nextMaintenance:"2025-04-05"},{id:6,name:"高速扫描仪",type:"扫描仪",model:"Fujitsu ScanSnap iX1500",location:"档案室",status:"正常",lastMaintenance:"2025-06-03",nextMaintenance:"2025-04-03"},{id:7,name:"投影仪A",type:"投影仪",model:"Epson EB-X41",location:"多媒体教室1",status:"正常",lastMaintenance:"2025-06-14",nextMaintenance:"2025-04-14"},{id:8,name:"投影仪B",type:"投影仪",model:"Epson EB-X41",location:"多媒体教室2",status:"正常",lastMaintenance:"2025-06-16",nextMaintenance:"2025-04-16"},{id:9,name:"碎纸机A",type:"碎纸机",model:"Fellowes 62MC",location:"行政楼1楼",status:"正常",lastMaintenance:"2025-06-02",nextMaintenance:"2025-04-02"},{id:10,name:"传真机",type:"传真机",model:"Brother FAX-2840",location:"行政楼1楼",status:"故障",lastMaintenance:"2025-06-01",nextMaintenance:"2025-04-01"}]),P=A(()=>w.value?c.value.filter(o=>o.name.includes(w.value)||o.type.includes(w.value)||o.location.includes(w.value)):c.value),F=A(()=>{const o=(M.value-1)*C.value;return P.value.slice(o,o+C.value)});function O(){M.value=1}function R(o){C.value=o,M.value=1}function X(o){M.value=o}const $=o=>{switch(o){case"正常":return"success";case"维修中":return"warning";case"故障":return"danger";case"报废":return"info";default:return"info"}},x=p(!1),h=p("add"),i=I({id:0,name:"",type:"",model:"",location:"",status:"正常",lastMaintenance:"",nextMaintenance:""}),k=p(),N={name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],model:[{required:!0,message:"请输入型号",trigger:"blur"}],location:[{required:!0,message:"请输入位置",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],lastMaintenance:[{required:!0,message:"请输入最后维护时间",trigger:"blur"}],nextMaintenance:[{required:!0,message:"请输入下次维护时间",trigger:"blur"}]};function T(){h.value="add";const o=Math.max(...c.value.map(t=>t.id),0);Object.assign(i,{id:o+1,name:"",type:"",model:"",location:"",status:"正常",lastMaintenance:"",nextMaintenance:""}),x.value=!0,j(()=>{var t;return(t=k.value)==null?void 0:t.clearValidate()})}function H(o){h.value="edit",Object.assign(i,o),x.value=!0,j(()=>{var t;return(t=k.value)==null?void 0:t.clearValidate()})}function J(){k.value.validate(o=>{if(o){if(h.value==="add")c.value.unshift({...i}),z.success("新增成功");else{const t=c.value.findIndex(m=>m.id===i.id);t!==-1&&(c.value[t]={...i},z.success("编辑成功"))}x.value=!1}})}function L(o){se.confirm(`确定要删除办公设备"${o.name}"吗？`,"删除确认",{type:"warning"}).then(()=>{const t=c.value.findIndex(m=>m.id===o.id);t!==-1&&(c.value.splice(t,1),z.success("删除成功"))}).catch(()=>{})}const D=p(!1),v=I({name:"",type:"",model:"",location:"",status:"",lastMaintenance:"",nextMaintenance:""});function Q(o){Object.assign(v,o),D.value=!0}return(o,t)=>{const m=s("el-icon"),V=s("el-card"),B=s("el-col"),Y=s("el-row"),y=s("el-input"),_=s("el-button"),r=s("el-table-column"),Z=s("el-tag"),G=s("el-table"),K=s("el-pagination"),g=s("el-form-item"),u=s("el-option"),E=s("el-select"),W=s("el-form"),S=s("el-dialog"),b=s("el-descriptions-item"),ee=s("el-descriptions");return de(),ae("div",re,[t[24]||(t[24]=n("h1",null,"办公自动化",-1)),e(Y,{gutter:20,class:"overview-row"},{default:a(()=>[e(B,{xs:24,sm:12,md:6},{default:a(()=>[e(V,{shadow:"hover",class:"overview-card"},{default:a(()=>[n("div",ce,[n("div",ve,[e(m,null,{default:a(()=>[e(U(le))]),_:1})]),t[13]||(t[13]=n("div",{class:"overview-info"},[n("div",{class:"overview-title"},"待办事项"),n("div",{class:"overview-value"},"5")],-1))])]),_:1})]),_:1}),e(B,{xs:24,sm:12,md:6},{default:a(()=>[e(V,{shadow:"hover",class:"overview-card"},{default:a(()=>[n("div",me,[n("div",pe,[e(m,null,{default:a(()=>[e(U(ne))]),_:1})]),t[14]||(t[14]=n("div",{class:"overview-info"},[n("div",{class:"overview-title"},"待审批"),n("div",{class:"overview-value"},"3")],-1))])]),_:1})]),_:1}),e(B,{xs:24,sm:12,md:6},{default:a(()=>[e(V,{shadow:"hover",class:"overview-card"},{default:a(()=>[n("div",fe,[n("div",_e,[e(m,null,{default:a(()=>[e(U(oe))]),_:1})]),t[15]||(t[15]=n("div",{class:"overview-info"},[n("div",{class:"overview-title"},"通知公告"),n("div",{class:"overview-value"},"8")],-1))])]),_:1})]),_:1}),e(B,{xs:24,sm:12,md:6},{default:a(()=>[e(V,{shadow:"hover",class:"overview-card"},{default:a(()=>[n("div",ge,[n("div",be,[e(m,null,{default:a(()=>[e(U(ie))]),_:1})]),t[16]||(t[16]=n("div",{class:"overview-info"},[n("div",{class:"overview-title"},"今日会议"),n("div",{class:"overview-value"},"2")],-1))])]),_:1})]),_:1})]),_:1}),e(V,{class:"office-card"},{header:a(()=>[n("div",we,[n("div",Me,[e(y,{modelValue:w.value,"onUpdate:modelValue":t[0]||(t[0]=l=>w.value=l),placeholder:"搜索办公设备（名称/类型/位置）...",clearable:"","prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},onInput:O},null,8,["modelValue"]),e(_,{type:"primary",onClick:T},{default:a(()=>t[17]||(t[17]=[d("新增办公设备")])),_:1,__:[17]})])])]),default:a(()=>[e(G,{data:F.value,style:{width:"100%"},border:"",stripe:"","highlight-current-row":""},{default:a(()=>[e(r,{prop:"id",label:"ID",width:"80"}),e(r,{prop:"name",label:"设备名称","min-width":"150"}),e(r,{prop:"type",label:"类型",width:"120"}),e(r,{prop:"model",label:"型号",width:"150"}),e(r,{prop:"location",label:"位置",width:"150"}),e(r,{prop:"status",label:"状态",width:"100"},{default:a(({row:l})=>[e(Z,{type:$(l.status)},{default:a(()=>[d(f(l.status),1)]),_:2},1032,["type"])]),_:1}),e(r,{prop:"lastMaintenance",label:"最后维护",width:"150"}),e(r,{prop:"nextMaintenance",label:"下次维护",width:"150"}),e(r,{label:"操作",width:"220",fixed:"right"},{default:a(({row:l})=>[e(_,{type:"primary",size:"small",onClick:q=>Q(l)},{default:a(()=>t[18]||(t[18]=[d("查看")])),_:2,__:[18]},1032,["onClick"]),e(_,{type:"warning",size:"small",onClick:q=>H(l)},{default:a(()=>t[19]||(t[19]=[d("编辑")])),_:2,__:[19]},1032,["onClick"]),e(_,{type:"danger",size:"small",onClick:q=>L(l)},{default:a(()=>t[20]||(t[20]=[d("删除")])),_:2,__:[20]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n("div",xe,[e(K,{"current-page":M.value,"onUpdate:currentPage":t[1]||(t[1]=l=>M.value=l),"page-size":C.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:P.value.length,onSizeChange:R,onCurrentChange:X},null,8,["current-page","page-size","total"])])]),_:1}),e(S,{modelValue:x.value,"onUpdate:modelValue":t[10]||(t[10]=l=>x.value=l),title:h.value==="add"?"新增办公设备":"编辑办公设备",width:"500px"},{footer:a(()=>[n("span",ye,[e(_,{onClick:t[9]||(t[9]=l=>x.value=!1)},{default:a(()=>t[21]||(t[21]=[d("取消")])),_:1,__:[21]}),e(_,{type:"primary",onClick:J},{default:a(()=>t[22]||(t[22]=[d("确定")])),_:1,__:[22]})])]),default:a(()=>[e(W,{model:i,rules:N,ref_key:"editFormRef",ref:k,"label-width":"100px"},{default:a(()=>[e(g,{label:"设备名称",prop:"name"},{default:a(()=>[e(y,{modelValue:i.name,"onUpdate:modelValue":t[2]||(t[2]=l=>i.name=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"类型",prop:"type"},{default:a(()=>[e(E,{modelValue:i.type,"onUpdate:modelValue":t[3]||(t[3]=l=>i.type=l),placeholder:"请选择"},{default:a(()=>[e(u,{label:"打印机",value:"打印机"}),e(u,{label:"复印机",value:"复印机"}),e(u,{label:"扫描仪",value:"扫描仪"}),e(u,{label:"投影仪",value:"投影仪"}),e(u,{label:"碎纸机",value:"碎纸机"}),e(u,{label:"传真机",value:"传真机"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"型号",prop:"model"},{default:a(()=>[e(y,{modelValue:i.model,"onUpdate:modelValue":t[4]||(t[4]=l=>i.model=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"位置",prop:"location"},{default:a(()=>[e(y,{modelValue:i.location,"onUpdate:modelValue":t[5]||(t[5]=l=>i.location=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"状态",prop:"status"},{default:a(()=>[e(E,{modelValue:i.status,"onUpdate:modelValue":t[6]||(t[6]=l=>i.status=l),placeholder:"请选择"},{default:a(()=>[e(u,{label:"正常",value:"正常"}),e(u,{label:"维修中",value:"维修中"}),e(u,{label:"故障",value:"故障"}),e(u,{label:"报废",value:"报废"})]),_:1},8,["modelValue"])]),_:1}),e(g,{label:"最后维护",prop:"lastMaintenance"},{default:a(()=>[e(y,{modelValue:i.lastMaintenance,"onUpdate:modelValue":t[7]||(t[7]=l=>i.lastMaintenance=l)},null,8,["modelValue"])]),_:1}),e(g,{label:"下次维护",prop:"nextMaintenance"},{default:a(()=>[e(y,{modelValue:i.nextMaintenance,"onUpdate:modelValue":t[8]||(t[8]=l=>i.nextMaintenance=l)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),e(S,{modelValue:D.value,"onUpdate:modelValue":t[12]||(t[12]=l=>D.value=l),title:"办公设备详情",width:"400px","show-close":!0},{footer:a(()=>[e(_,{onClick:t[11]||(t[11]=l=>D.value=!1)},{default:a(()=>t[23]||(t[23]=[d("关闭")])),_:1,__:[23]})]),default:a(()=>[e(ee,{column:1,border:""},{default:a(()=>[e(b,{label:"设备名称"},{default:a(()=>[d(f(v.name),1)]),_:1}),e(b,{label:"类型"},{default:a(()=>[d(f(v.type),1)]),_:1}),e(b,{label:"型号"},{default:a(()=>[d(f(v.model),1)]),_:1}),e(b,{label:"位置"},{default:a(()=>[d(f(v.location),1)]),_:1}),e(b,{label:"状态"},{default:a(()=>[d(f(v.status),1)]),_:1}),e(b,{label:"最后维护"},{default:a(()=>[d(f(v.lastMaintenance),1)]),_:1}),e(b,{label:"下次维护"},{default:a(()=>[d(f(v.nextMaintenance),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),De=ue(Ve,[["__scopeId","data-v-35eab361"]]);export{De as default};
