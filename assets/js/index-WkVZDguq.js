import{d as be,a as r,Z as $,i as X,z as ce,B as M,w as fe,C as Y,e as _e,k as n,j as t,b as a,r as o,t as m,m as Z,x as ve,q as d,ag as ge,X as U,Y as we,o as ye}from"./vendor-BCCqDdhU.js";import{_ as he}from"./index-DfcH9hJA.js";const Fe={class:"network-container"},Ge={class:"card-header"},Ve={class:"header-left"},Ce={class:"header-right"},Ae={class:"stat-box"},xe={class:"stat-box"},ke={class:"stat-value"},Pe={class:"stat-box"},Be={class:"stat-value warning"},Se={class:"card-header"},ze={class:"header-left"},De={class:"card-header"},Me={class:"header-actions"},Ue={class:"pagination-container"},Re={class:"dialog-footer"},Ie=be({__name:"index",setup(qe){const y=r(""),h=r(1),x=r(10),R=r("day"),j=$({day:{used:48,warning:3},week:{used:47,warning:4},month:{used:46,warning:5}}),V=r(j.day),p=r([{id:1,name:"核心路由器A",type:"路由器",ip:"192.168.1.1",bandwidth:"10Gbps",location:"主机房",status:"正常",uptime:"30天"},{id:2,name:"核心路由器B",type:"路由器",ip:"192.168.1.2",bandwidth:"10Gbps",location:"主机房",status:"正常",uptime:"28天"},{id:3,name:"接入交换机A",type:"交换机",ip:"192.168.2.1",bandwidth:"1Gbps",location:"教学楼A",status:"正常",uptime:"25天"},{id:4,name:"接入交换机B",type:"交换机",ip:"192.168.2.2",bandwidth:"1Gbps",location:"教学楼B",status:"正常",uptime:"22天"},{id:5,name:"防火墙A",type:"防火墙",ip:"192.168.0.1",bandwidth:"5Gbps",location:"主机房",status:"正常",uptime:"35天"},{id:6,name:"防火墙B",type:"防火墙",ip:"192.168.0.2",bandwidth:"5Gbps",location:"主机房",status:"警告",uptime:"15天"},{id:7,name:"负载均衡器",type:"负载均衡器",ip:"192.168.3.1",bandwidth:"2Gbps",location:"主机房",status:"正常",uptime:"20天"},{id:8,name:"无线AP-1F",type:"无线AP",ip:"192.168.4.1",bandwidth:"500Mbps",location:"教学楼1楼",status:"正常",uptime:"18天"},{id:9,name:"无线AP-2F",type:"无线AP",ip:"192.168.4.2",bandwidth:"500Mbps",location:"教学楼2楼",status:"正常",uptime:"16天"},{id:10,name:"无线AP-3F",type:"无线AP",ip:"192.168.4.3",bandwidth:"500Mbps",location:"教学楼3楼",status:"离线",uptime:"0天"},{id:11,name:"教学区汇聚交换机",type:"交换机",ip:"192.168.2.10",bandwidth:"10Gbps",location:"教学区机房",status:"正常",uptime:"45天"},{id:12,name:"办公区汇聚交换机",type:"交换机",ip:"192.168.2.11",bandwidth:"10Gbps",location:"办公区机房",status:"正常",uptime:"40天"},{id:13,name:"宿舍区汇聚交换机",type:"交换机",ip:"192.168.2.12",bandwidth:"10Gbps",location:"宿舍区机房",status:"正常",uptime:"38天"},{id:14,name:"实验室汇聚交换机",type:"交换机",ip:"192.168.2.13",bandwidth:"10Gbps",location:"实验楼机房",status:"正常",uptime:"35天"},{id:15,name:"网关路由器A",type:"路由器",ip:"192.168.0.10",bandwidth:"10Gbps",location:"网络出口区",status:"正常",uptime:"50天"},{id:16,name:"网关路由器B",type:"路由器",ip:"192.168.0.11",bandwidth:"10Gbps",location:"网络出口区",status:"正常",uptime:"48天"},{id:17,name:"教学楼A-1F交换机",type:"交换机",ip:"192.168.5.1",bandwidth:"1Gbps",location:"教学楼A-1F",status:"正常",uptime:"30天"},{id:18,name:"教学楼A-2F交换机",type:"交换机",ip:"192.168.5.2",bandwidth:"1Gbps",location:"教学楼A-2F",status:"正常",uptime:"30天"},{id:19,name:"教学楼A-3F交换机",type:"交换机",ip:"192.168.5.3",bandwidth:"1Gbps",location:"教学楼A-3F",status:"正常",uptime:"30天"},{id:20,name:"教学楼A-4F交换机",type:"交换机",ip:"192.168.5.4",bandwidth:"1Gbps",location:"教学楼A-4F",status:"正常",uptime:"30天"},{id:21,name:"教学楼B-1F交换机",type:"交换机",ip:"192.168.6.1",bandwidth:"1Gbps",location:"教学楼B-1F",status:"正常",uptime:"28天"},{id:22,name:"教学楼B-2F交换机",type:"交换机",ip:"192.168.6.2",bandwidth:"1Gbps",location:"教学楼B-2F",status:"正常",uptime:"28天"},{id:23,name:"教学楼B-3F交换机",type:"交换机",ip:"192.168.6.3",bandwidth:"1Gbps",location:"教学楼B-3F",status:"警告",uptime:"28天"},{id:24,name:"教学楼B-4F交换机",type:"交换机",ip:"192.168.6.4",bandwidth:"1Gbps",location:"教学楼B-4F",status:"正常",uptime:"28天"},{id:25,name:"实验楼-1F交换机",type:"交换机",ip:"192.168.7.1",bandwidth:"1Gbps",location:"实验楼-1F",status:"正常",uptime:"25天"},{id:26,name:"实验楼-2F交换机",type:"交换机",ip:"192.168.7.2",bandwidth:"1Gbps",location:"实验楼-2F",status:"正常",uptime:"25天"},{id:27,name:"实验楼-3F交换机",type:"交换机",ip:"192.168.7.3",bandwidth:"1Gbps",location:"实验楼-3F",status:"正常",uptime:"25天"},{id:28,name:"实验楼-4F交换机",type:"交换机",ip:"192.168.7.4",bandwidth:"1Gbps",location:"实验楼-4F",status:"正常",uptime:"25天"},{id:29,name:"办公楼-1F交换机",type:"交换机",ip:"192.168.8.1",bandwidth:"1Gbps",location:"办公楼-1F",status:"正常",uptime:"22天"},{id:30,name:"办公楼-2F交换机",type:"交换机",ip:"192.168.8.2",bandwidth:"1Gbps",location:"办公楼-2F",status:"正常",uptime:"22天"},{id:31,name:"办公楼-3F交换机",type:"交换机",ip:"192.168.8.3",bandwidth:"1Gbps",location:"办公楼-3F",status:"正常",uptime:"22天"},{id:32,name:"宿舍1号楼交换机",type:"交换机",ip:"192.168.9.1",bandwidth:"1Gbps",location:"宿舍1号楼",status:"正常",uptime:"20天"},{id:33,name:"宿舍2号楼交换机",type:"交换机",ip:"192.168.9.2",bandwidth:"1Gbps",location:"宿舍2号楼",status:"正常",uptime:"20天"},{id:34,name:"宿舍3号楼交换机",type:"交换机",ip:"192.168.9.3",bandwidth:"1Gbps",location:"宿舍3号楼",status:"正常",uptime:"20天"},{id:35,name:"宿舍4号楼交换机",type:"交换机",ip:"192.168.9.4",bandwidth:"1Gbps",location:"宿舍4号楼",status:"离线",uptime:"0天"},{id:36,name:"图书馆-1F交换机",type:"交换机",ip:"192.168.10.1",bandwidth:"1Gbps",location:"图书馆-1F",status:"正常",uptime:"18天"},{id:37,name:"图书馆-2F交换机",type:"交换机",ip:"192.168.10.2",bandwidth:"1Gbps",location:"图书馆-2F",status:"正常",uptime:"18天"},{id:38,name:"图书馆-3F交换机",type:"交换机",ip:"192.168.10.3",bandwidth:"1Gbps",location:"图书馆-3F",status:"正常",uptime:"18天"},{id:39,name:"无线AP-图书馆",type:"无线AP",ip:"192.168.4.10",bandwidth:"500Mbps",location:"图书馆",status:"正常",uptime:"15天"},{id:40,name:"无线AP-办公楼",type:"无线AP",ip:"192.168.4.11",bandwidth:"500Mbps",location:"办公楼",status:"正常",uptime:"15天"},{id:41,name:"无线AP-实验楼",type:"无线AP",ip:"192.168.4.12",bandwidth:"500Mbps",location:"实验楼",status:"正常",uptime:"15天"},{id:42,name:"无线AP-食堂",type:"无线AP",ip:"192.168.4.13",bandwidth:"500Mbps",location:"食堂",status:"正常",uptime:"15天"},{id:43,name:"无线AP-操场",type:"无线AP",ip:"192.168.4.14",bandwidth:"500Mbps",location:"操场",status:"正常",uptime:"15天"},{id:44,name:"无线AP-宿舍区",type:"无线AP",ip:"192.168.4.15",bandwidth:"500Mbps",location:"宿舍区",status:"警告",uptime:"15天"},{id:45,name:"边界防火墙",type:"防火墙",ip:"192.168.0.3",bandwidth:"5Gbps",location:"网络出口区",status:"正常",uptime:"40天"},{id:46,name:"内网防火墙",type:"防火墙",ip:"192.168.0.4",bandwidth:"5Gbps",location:"主机房",status:"正常",uptime:"40天"},{id:47,name:"备用负载均衡器",type:"负载均衡器",ip:"192.168.3.2",bandwidth:"2Gbps",location:"主机房",status:"正常",uptime:"35天"},{id:48,name:"行政区路由器",type:"路由器",ip:"192.168.1.5",bandwidth:"5Gbps",location:"行政楼",status:"正常",uptime:"30天"}]),N=X(()=>y.value?p.value.filter(l=>l.name.includes(y.value)||l.type.includes(y.value)||l.location.includes(y.value)):p.value),H=X(()=>{const l=(h.value-1)*x.value;return N.value.slice(l,l+x.value)});let k=null,P=null;const I=r(null),q=r(null);ce(()=>{M(()=>{B()})}),fe(R,l=>{V.value=j[l],U.success(`已切换到${l==="day"?"今日":l==="week"?"本周":"本月"}数据`),B()});function B(){M(()=>{try{if(I.value){k&&k.dispose(),k=Y(I.value);const l=p.value.filter(b=>b.status==="正常").length,e=p.value.filter(b=>b.status==="警告").length,u=p.value.filter(b=>b.status==="错误").length,C=p.value.filter(b=>b.status==="离线").length;k.setOption({title:{text:"网络设备状态分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{bottom:"5%",left:"center"},series:[{name:"设备状态",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{show:!1},data:[{value:l,name:"正常",itemStyle:{color:"#67C23A"}},{value:e,name:"警告",itemStyle:{color:"#E6A23C"}},{value:u,name:"错误",itemStyle:{color:"#F56C6C"}},{value:C,name:"离线",itemStyle:{color:"#909399"}}]}]})}if(q.value){P&&P.dispose(),P=Y(q.value);const l={};p.value.forEach(u=>{l[u.type]=(l[u.type]||0)+1});const e=Object.keys(l).map(u=>({value:l[u],name:u}));P.setOption({title:{text:"网络设备类型分布",left:"center"},tooltip:{trigger:"item",formatter:"{a} <br/>{b}: {c} ({d}%)"},legend:{bottom:"5%",left:"center"},series:[{name:"设备类型",type:"pie",radius:["40%","70%"],avoidLabelOverlap:!1,itemStyle:{borderRadius:10,borderColor:"#fff",borderWidth:2},label:{show:!1},emphasis:{label:{show:!0,fontSize:"16",fontWeight:"bold"}},labelLine:{show:!1},data:e}]})}}catch(l){console.error("初始化图表失败:",l)}})}function J(){h.value=1}function K(l){x.value=l,h.value=1}function ee(l){h.value=l}const te=l=>{switch(l){case"正常":return"success";case"离线":return"info";case"错误":return"danger";case"警告":return"warning";default:return"info"}},F=r(!1),S=r("add"),s=$({id:0,name:"",type:"",ip:"",bandwidth:"",location:"",status:"正常",uptime:""}),z=r(),ae={name:[{required:!0,message:"请输入设备名称",trigger:"blur"}],type:[{required:!0,message:"请选择类型",trigger:"change"}],ip:[{required:!0,message:"请输入IP地址",trigger:"blur"}],bandwidth:[{required:!0,message:"请输入带宽",trigger:"blur"}],location:[{required:!0,message:"请输入位置",trigger:"blur"}],status:[{required:!0,message:"请选择状态",trigger:"change"}],uptime:[{required:!0,message:"请输入运行时间",trigger:"blur"}]};function le(){S.value="add";const l=Math.max(...p.value.map(e=>e.id),0);Object.assign(s,{id:l+1,name:"",type:"",ip:"",bandwidth:"",location:"",status:"正常",uptime:""}),F.value=!0,M(()=>{var e;return(e=z.value)==null?void 0:e.clearValidate()})}function ie(l){S.value="edit",Object.assign(s,l),F.value=!0,M(()=>{var e;return(e=z.value)==null?void 0:e.clearValidate()})}function ne(){z.value.validate(l=>{if(l){if(S.value==="add")p.value.unshift({...s}),U.success("新增成功");else{const e=p.value.findIndex(u=>u.id===s.id);e!==-1&&(p.value[e]={...s},U.success("编辑成功"))}F.value=!1,B()}})}function se(l){we.confirm(`确定要删除网络设备"${l.name}"吗？`,"删除确认",{type:"warning"}).then(()=>{const e=p.value.findIndex(u=>u.id===l.id);e!==-1&&(p.value.splice(e,1),U.success("删除成功"),B())}).catch(()=>{})}const D=r(!1),_=$({name:"",type:"",ip:"",bandwidth:"",location:"",status:"",uptime:""});function oe(l){Object.assign(_,l),D.value=!0}return(l,e)=>{const u=o("el-icon"),C=o("el-radio-button"),b=o("el-radio-group"),O=o("el-progress"),A=o("el-col"),L=o("el-row"),E=o("el-card"),G=o("el-input"),v=o("el-button"),c=o("el-table-column"),de=o("el-tag"),ue=o("el-table"),pe=o("el-pagination"),g=o("el-form-item"),f=o("el-option"),W=o("el-select"),re=o("el-form"),T=o("el-dialog"),w=o("el-descriptions-item"),me=o("el-descriptions");return ye(),_e("div",Fe,[e[30]||(e[30]=n("h1",null,"网络管理",-1)),t(E,{class:"license-card",shadow:"hover"},{header:a(()=>[n("div",Ge,[n("div",Ve,[t(u,null,{default:a(()=>[t(Z(ve))]),_:1}),e[14]||(e[14]=n("span",null,"网络设备许可概览",-1))]),n("div",Ce,[t(b,{modelValue:R.value,"onUpdate:modelValue":e[0]||(e[0]=i=>R.value=i),size:"small"},{default:a(()=>[t(C,{label:"day"},{default:a(()=>e[15]||(e[15]=[d("今日")])),_:1,__:[15]}),t(C,{label:"week"},{default:a(()=>e[16]||(e[16]=[d("本周")])),_:1,__:[16]}),t(C,{label:"month"},{default:a(()=>e[17]||(e[17]=[d("本月")])),_:1,__:[17]})]),_:1},8,["modelValue"])])])]),default:a(()=>[t(L,{gutter:20},{default:a(()=>[t(A,{span:8},{default:a(()=>[n("div",Ae,[e[18]||(e[18]=n("div",{class:"stat-title"},"许可总数",-1)),e[19]||(e[19]=n("div",{class:"stat-value"},"50",-1)),t(O,{percentage:100,status:"success"})])]),_:1}),t(A,{span:8},{default:a(()=>[n("div",xe,[e[20]||(e[20]=n("div",{class:"stat-title"},"已使用",-1)),n("div",ke,m(V.value.used),1),t(O,{percentage:V.value.used/50*100,status:"success"},null,8,["percentage"])])]),_:1}),t(A,{span:8},{default:a(()=>[n("div",Pe,[e[21]||(e[21]=n("div",{class:"stat-title"},"告警设备",-1)),n("div",Be,m(V.value.warning),1),t(O,{percentage:V.value.warning/50*100,status:"warning"},null,8,["percentage"])])]),_:1})]),_:1})]),_:1}),t(E,{class:"network-stats-card",shadow:"hover"},{header:a(()=>[n("div",Se,[n("div",ze,[t(u,null,{default:a(()=>[t(Z(ge))]),_:1}),e[22]||(e[22]=n("span",null,"设备状态分析",-1))])])]),default:a(()=>[t(L,{gutter:20},{default:a(()=>[t(A,{span:12},{default:a(()=>[n("div",{ref_key:"statusChartRef",ref:I,class:"chart-container"},null,512)]),_:1}),t(A,{span:12},{default:a(()=>[n("div",{ref_key:"typeChartRef",ref:q,class:"chart-container"},null,512)]),_:1})]),_:1})]),_:1}),t(E,{class:"network-card"},{header:a(()=>[n("div",De,[n("div",Me,[t(G,{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=i=>y.value=i),placeholder:"搜索网络设备（名称/类型/位置）...",clearable:"","prefix-icon":"Search",style:{width:"300px","margin-right":"10px"},onInput:J},null,8,["modelValue"]),t(v,{type:"primary",onClick:le},{default:a(()=>e[23]||(e[23]=[d("新增网络设备")])),_:1,__:[23]})])])]),default:a(()=>[t(ue,{data:H.value,style:{width:"100%"},border:"",stripe:"","highlight-current-row":""},{default:a(()=>[t(c,{prop:"id",label:"ID",width:"80"}),t(c,{prop:"name",label:"设备名称","min-width":"150"}),t(c,{prop:"type",label:"类型",width:"120"}),t(c,{prop:"ip",label:"IP地址",width:"150"}),t(c,{prop:"bandwidth",label:"带宽",width:"120"}),t(c,{prop:"location",label:"位置",width:"150"}),t(c,{prop:"status",label:"状态",width:"100"},{default:a(({row:i})=>[t(de,{type:te(i.status)},{default:a(()=>[d(m(i.status),1)]),_:2},1032,["type"])]),_:1}),t(c,{prop:"uptime",label:"运行时间",width:"120"}),t(c,{label:"操作",width:"220",fixed:"right"},{default:a(({row:i})=>[t(v,{type:"primary",size:"small",onClick:Q=>oe(i)},{default:a(()=>e[24]||(e[24]=[d("查看")])),_:2,__:[24]},1032,["onClick"]),t(v,{type:"warning",size:"small",onClick:Q=>ie(i)},{default:a(()=>e[25]||(e[25]=[d("编辑")])),_:2,__:[25]},1032,["onClick"]),t(v,{type:"danger",size:"small",onClick:Q=>se(i)},{default:a(()=>e[26]||(e[26]=[d("删除")])),_:2,__:[26]},1032,["onClick"])]),_:1})]),_:1},8,["data"]),n("div",Ue,[t(pe,{"current-page":h.value,"onUpdate:currentPage":e[2]||(e[2]=i=>h.value=i),"page-size":x.value,"page-sizes":[10,20,30,50],layout:"total, sizes, prev, pager, next, jumper",total:N.value.length,onSizeChange:K,onCurrentChange:ee},null,8,["current-page","page-size","total"])])]),_:1}),t(T,{modelValue:F.value,"onUpdate:modelValue":e[11]||(e[11]=i=>F.value=i),title:S.value==="add"?"新增网络设备":"编辑网络设备",width:"500px"},{footer:a(()=>[n("span",Re,[t(v,{onClick:e[10]||(e[10]=i=>F.value=!1)},{default:a(()=>e[27]||(e[27]=[d("取消")])),_:1,__:[27]}),t(v,{type:"primary",onClick:ne},{default:a(()=>e[28]||(e[28]=[d("确定")])),_:1,__:[28]})])]),default:a(()=>[t(re,{model:s,rules:ae,ref_key:"editFormRef",ref:z,"label-width":"100px"},{default:a(()=>[t(g,{label:"设备名称",prop:"name"},{default:a(()=>[t(G,{modelValue:s.name,"onUpdate:modelValue":e[3]||(e[3]=i=>s.name=i)},null,8,["modelValue"])]),_:1}),t(g,{label:"类型",prop:"type"},{default:a(()=>[t(W,{modelValue:s.type,"onUpdate:modelValue":e[4]||(e[4]=i=>s.type=i),placeholder:"请选择"},{default:a(()=>[t(f,{label:"路由器",value:"路由器"}),t(f,{label:"交换机",value:"交换机"}),t(f,{label:"防火墙",value:"防火墙"}),t(f,{label:"负载均衡器",value:"负载均衡器"}),t(f,{label:"无线AP",value:"无线AP"})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"IP地址",prop:"ip"},{default:a(()=>[t(G,{modelValue:s.ip,"onUpdate:modelValue":e[5]||(e[5]=i=>s.ip=i)},null,8,["modelValue"])]),_:1}),t(g,{label:"带宽",prop:"bandwidth"},{default:a(()=>[t(G,{modelValue:s.bandwidth,"onUpdate:modelValue":e[6]||(e[6]=i=>s.bandwidth=i)},null,8,["modelValue"])]),_:1}),t(g,{label:"位置",prop:"location"},{default:a(()=>[t(G,{modelValue:s.location,"onUpdate:modelValue":e[7]||(e[7]=i=>s.location=i)},null,8,["modelValue"])]),_:1}),t(g,{label:"状态",prop:"status"},{default:a(()=>[t(W,{modelValue:s.status,"onUpdate:modelValue":e[8]||(e[8]=i=>s.status=i),placeholder:"请选择"},{default:a(()=>[t(f,{label:"正常",value:"正常"}),t(f,{label:"离线",value:"离线"}),t(f,{label:"错误",value:"错误"}),t(f,{label:"警告",value:"警告"})]),_:1},8,["modelValue"])]),_:1}),t(g,{label:"运行时间",prop:"uptime"},{default:a(()=>[t(G,{modelValue:s.uptime,"onUpdate:modelValue":e[9]||(e[9]=i=>s.uptime=i)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])]),_:1},8,["modelValue","title"]),t(T,{modelValue:D.value,"onUpdate:modelValue":e[13]||(e[13]=i=>D.value=i),title:"网络设备详情",width:"400px","show-close":!0},{footer:a(()=>[t(v,{onClick:e[12]||(e[12]=i=>D.value=!1)},{default:a(()=>e[29]||(e[29]=[d("关闭")])),_:1,__:[29]})]),default:a(()=>[t(me,{column:1,border:""},{default:a(()=>[t(w,{label:"设备名称"},{default:a(()=>[d(m(_.name),1)]),_:1}),t(w,{label:"类型"},{default:a(()=>[d(m(_.type),1)]),_:1}),t(w,{label:"IP地址"},{default:a(()=>[d(m(_.ip),1)]),_:1}),t(w,{label:"带宽"},{default:a(()=>[d(m(_.bandwidth),1)]),_:1}),t(w,{label:"位置"},{default:a(()=>[d(m(_.location),1)]),_:1}),t(w,{label:"状态"},{default:a(()=>[d(m(_.status),1)]),_:1}),t(w,{label:"运行时间"},{default:a(()=>[d(m(_.uptime),1)]),_:1})]),_:1})]),_:1},8,["modelValue"])])}}}),$e=he(Ie,[["__scopeId","data-v-af1d1dcf"]]);export{$e as default};
